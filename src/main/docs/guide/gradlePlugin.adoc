One of the features of Grails 3.x is that the applications come packaged with Gradle as a build tool.

Rather than implementing our own mechanism to capture git commit information we can leverage the https://plugins.gradle.org/plugin/com.gorylenko.gradle-git-properties[gradle-git-properties] plugin.
The goal of this plugin is to capture the commit information and store it in a file called `git.properties`

Adding a Gradle plugin is fairly straight forward.  This involves a few steps.

 . Adding the dependency to the `buildscript { ... }` block in `build.gradle`. This means that you are adding the dependency to the build and not your deliverable application.
 . Ensuring the build script dependency will be resolved via the appropriate maven repositories
 . Applying the plugin

[source,groovy]
./complete/build.gradle
----
include::{sourceDir}/build.gradle[lines=1..2]
include::{sourceDir}/build.gradle[lines=5..7]
include::{sourceDir}/build.gradle[lines=11..13]
include::{sourceDir}/build.gradle[lines=24]
----

'''

Now every time the application is compiled or run (specifically the https://github.com/n0mer/gradle-git-properties/blob/master/src/main/groovy/com/gorylenko/GitPropertiesPlugin.groovy#L55[JavaPlugin's `classes` task]), you'll find that git.properties has been generated.
When running the app locally, this file may be found at `/build/resources/main/git.properties`.
When packaged as a war or standalone jar you'll find `git.properties` included in `WEB-INF/classes`:

```bash
$ unzip -l ./build/libs/complete-0.1.war | grep git.properties
      276  2017-02-02 11:53   WEB-INF/classes/git.properties
```

'''

Inspecting `git.properties` reveals the commit information that was captured

```properties
git.branch=master
git.commit.id=777d70650bb055862436fc59071072aae8cd0ddd
git.commit.id.abbrev=777d706
git.commit.user.name=Colin Harrington
git.commit.user.email=colin.harrington@gmail.com
git.commit.message.short=Adding gradle-git-properties plugin
git.commit.message.full=Adding gradle-git-properties plugin

git.commit.time=1487262171
```

[NOTE]
====
It is possible to configure/influence how git.properties is generated by configuring the gradle task (in `build.gradle`).

```groovy
gitProperties {
    dateFormat = "yyyy-MM-dd'T'HH:mmZ"
    dateFormatTimeZone = "CST"
}
```
====
